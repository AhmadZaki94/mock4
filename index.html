<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="index.css">
    <title>Document</title>
</head>
<body>
    
    <div id="container">
        <div id="topTen">
            <button id="topBtn" >Top 10 Comments</button>
                    </div>
        <div id="latest">
            <button>Latest 10 Comments</button>
        </div>
    </div>
</body>
</html>


<script>
    document.querySelector('#topBtn').addEventListener('click', topTenComments);

    async function topTenComments() {

        try{
            let top_div = document.getElementById('topTen');


            let res = await fetch("https://jsonmock.hackerrank.com/api/articles");
            // console.log("Res:", res);

            let response = await res.json();
            console.log(response.data);
            let data = response.data;
            card(data);
        
        }
        catch(e){
            console.log("err:", e);
        }
    }

    // topTenComments();

    function card(data) {

        let sort = data.sort((a,b) => b.num_comments - a.num_comments);

        let cont = document.querySelector('#topTen')

        sort.map((e) => {
            let div1 = document.createElement('div');
            div1.setAttribute("id","div1");
            let div2 = document.createElement('div');
            div2.setAttribute("id","div2");
            let div3 = document.createElement('div');
            div3.setAttribute("id","div3");
            let h2=document.createElement("h2");
            let p=document.createElement("h2");
            let img=document.createElement("img");
            let a=document.createElement("a");
            a.href="artical.html";
            a.innerText="go to Atricle";
            img.setAttribute("id","avtar");
            img.src="https://cdn.dribbble.com/users/3293507/screenshots/14667603/media/d8cbe035a61f64afdf6deabca5182842.jpg?compress=1&resize=400x300&vertical=top";
            h2.innerText=e.title;
            p.innerText=e.author;

            let div

            div2.style.display="flex"
            div2.append(img,p);
            div3.append(h2,a)
            div1.append(div2,div3)
            cont.append(div1);
        })

    }

</script>